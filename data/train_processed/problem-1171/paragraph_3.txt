At the time of his attempt Castillo had already faced 2 impeachment attempts and the 3rd led by the powerful Congress specifically the allies of Keiko Fujimori were gearing up for 1 more but lacked the support. Probably when Castillo realized he will never be able to accomplish anything without removing a Congress who clearly hates him.