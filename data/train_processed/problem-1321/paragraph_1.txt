It's a complicated alliance, for sure. Chinese recognize that their government was derived from Leninism. But I can't imagine china has been impressed with Russias performance on the free market post collapse of USSR. They see Russia as a precautionary tale of what NOT to do. Which is China's opinion was denounce Stalin after his death, which they could never do with Mao. And of course the collapse of the USSR, which the CCP knows it can't show weakness.