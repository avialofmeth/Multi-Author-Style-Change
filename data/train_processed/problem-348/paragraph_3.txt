The basic premise is that if foreign officials feared arrest and prosecution in foreign countries it would be disastrous for international relations. Much in the same way that Qualified Immunity is supposed to allow for better policing when cops don't have to fear lawsuits for doing their jobs and transactional immunity protects confidential informants during criminal investigations.